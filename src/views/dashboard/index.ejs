<%- include('../partials/header', { title: 'Dashboard' }) %>

<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="text-center mb-12">
        <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Welcome back, <%= user.name %>!</h1>
        <p class="text-lg text-gray-600">Here’s a quick overview of your file management options.</p>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- My Files -->
        <div class="bg-white rounded-xl shadow-md hover:shadow-lg transition p-6 flex flex-col justify-between">
            <div>
                <div class="bg-blue-100 text-blue-600 rounded-full w-12 h-12 flex items-center justify-center mb-4 text-xl">
                    <i class="fas fa-folder-open"></i>
                </div>
                <h3 class="text-lg font-semibold mb-2">My Files</h3>
                <p class="text-sm text-gray-600">Browse and manage your uploaded files.</p>
            </div>
            <a href="/files" class="mt-4 inline-flex items-center text-blue-600 text-sm font-medium hover:underline">
                View files <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>

        <!-- Shared Folders -->
        <div class="bg-white rounded-xl shadow-md hover:shadow-lg transition p-6 flex flex-col justify-between">
            <div>
                <div class="bg-green-100 text-green-600 rounded-full w-12 h-12 flex items-center justify-center mb-4 text-xl">
                    <i class="fas fa-users"></i>
                </div>
                <h3 class="text-lg font-semibold mb-2">Shared Folders</h3>
                <p class="text-sm text-gray-600">Access folders shared with you by others.</p>
            </div>
            <a href="/folders/shared" class="mt-4 inline-flex items-center text-green-600 text-sm font-medium hover:underline">
                Go to folders <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>

        <!-- Upload Files -->
        <div class="bg-white rounded-xl shadow-md hover:shadow-lg transition p-6 flex flex-col justify-between">
            <div>
                <div class="bg-yellow-100 text-yellow-600 rounded-full w-12 h-12 flex items-center justify-center mb-4 text-xl">
                    <i class="fas fa-upload"></i>
                </div>
                <h3 class="text-lg font-semibold mb-2">Upload Files</h3>
                <p class="text-sm text-gray-600">Quickly upload new files to your account.</p>
            </div>
            <a href="/files/upload" class="mt-4 inline-flex items-center text-yellow-600 text-sm font-medium hover:underline">
                Upload now <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>

        <section>
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-semibold text-gray-800">My Folders</h2>
                <a href="/folders/new" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded hover:bg-blue-700">
                    <i class="fas fa-plus mr-2"></i> New Folder
                </a>
            </div>

            <% if (folders.length === 0) { %>
                <p class="text-gray-500">You don’t have any folders yet.</p>
            <% } else { %>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                    <% folders.forEach(folder => { %>
                        <a href="/folders/<%= folder.id %>" class="block bg-white rounded-lg shadow hover:shadow-md p-4 border hover:border-blue-500 transition">
                            <div class="flex items-center space-x-3">
                                <div class="bg-blue-100 text-blue-600 rounded-full w-10 h-10 flex items-center justify-center">
                                    <i class="fas fa-folder"></i>
                                </div>
                                <div>
                                    <h3 class="text-md font-semibold text-gray-900"><%= folder.name %></h3>
                                    <p class="text-xs text-gray-500">Created at <%= folder.createdAt.toLocaleDateString() %></p>
                                </div>
                            </div>
                        </a>
                    <% }) %>
                </div>
            <% } %>
        </section>
    </div>
</main>

<%- include('../partials/footer') %>
